# Тестирование

## Запуск тестов

### Все тесты:
```bash
python -m pytest test_downloader.py -v
```

### Или с unittest:
```bash
python test_downloader.py
```

## Что тестируется

1. **Инициализация VideoDownloader**
   - Создание директории
   - Параметры сжатия

2. **Выбор формата по платформе**
   - TikTok - сжатое качество (≤720p)
   - Instagram - сжатое качество (≤720p)
   - YouTube - среднее качество (≤1080p)

3. **Скачивание видео**
   - Успешное скачивание
   - Обработка ошибок
   - Поиск файла после скачивания

4. **Обработка ошибок**
   - DownloadError от yt-dlp
   - Общие исключения
   - Отсутствие файла

## Заметки

- Тесты используют моки yt-dlp (не скачивают реальные видео)
- Для реального тестирования можно раскомментировать интеграционный тест
- Тесты создают временные директории, которые автоматически удаляются
